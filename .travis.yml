language: python

python:
  - "3.4"
  - "3.5"

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install -qq git

install:
  - pip install -r requirements.txt
  - pip install -r extra-requirements.txt
  - pip install coverage coveralls flake8
script:
  # Make sure what's already flake8-happy remains flake8-happy
  - flake8 yokadi/core yokadi/ycli yokadi/yical yokadi/sync yokadi/update yokadi/*.py
  - coverage run --source=yokadi --omit="yokadi/tests/*" yokadi/tests/tests.py
after_success:
  coveralls
notifications:
  email: false
  irc: "chat.freenode.net#yokadi"
